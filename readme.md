# Информационная система учёта средства связи (ИСУСС)

Приложение реализует функцию контроля данных о средствах связи, предоставляя следующий функционал:

- Сохранение информации в базе данных;
- Управление движениями средств связи между подразделениями и владельцами;
- Управление категорированием средств связи;
- Разделение полномочий администраторского и пользовательского доступа;
- Резервирование данных;
- Импортирование данных из внешнего источника;
- Функционалом подсчёта сроков переработки;
- Логгирование и просмотр системного журнала приложения;
- Управление целостностью данных путём подтверждения операций администратором;

## Системные требования

### Операционная система

`Linux`, `Windows 7` и выше

### Установленное ПО

`NodeJS` версии `12.13.0` и выше.
База данных `MySQL`. Для резервного копирования исполняемые файлы `mysql`и `mysqldump` должны быть заданы в переменных среды `PATH`.

### Настройка конфиругации

Конфигурация задаётся в файле `.production.env` в формате `.env` файла следующим образом:

```env
# Хост (IP-адрес) базы данных
DB_HOST=localhost
# Порт подключения базы данных (по умолчанию у mysql 3306)
DB_PORT=3306
# Имя пользователя базы данных
DB_USERNAME=root
# Пароль пользователя базы данных
DB_PASSWORD=*******
# Имя базы данных
DB_NAME=senoph
# Используемый диалект базы данных (тестировалось только mysql)
DB_DIALECT=mysql
# Приватный ключ приложения
SECRET=**************
```

### Способ запуска

Локальный запуск приложения возможен запуском файла командного пакета `start.bat` и скрипта `start.sh` на `Windows` и `Linux` соответственно. Либо ручной запуск из директории релизной версии командой `node ./build/index.js`.

### Логгирование

Системный журнал приложения хранится в корневой директории по пути `./logs/`. Журналы записываются в три лог-файла:

- `combined.log`: Общие логи приложения, выводящиеся в консоль с доп. информацией (payload)
- `db.log`: Логи `SQL`-запросов к базе данных
- `error.log`: Схож с `combined.log`, но хранит только ошибки.

Также логи можно просмотреть в клиентском интерфейсе с учётной записи администратора, перейдя в пункт администрирование/история(логи), либо перейдя по URL `/admin/logs`. В данном разделе также хранится история действий пользователей системы.
**ВАЖНО:** история действий привязывается к резервной копии, при её изменении также загружается актуальная для резервной копии история.

# Техническая сторона

## Описание приложения

Это SPA-приложение, использующее **NodeJS** в качестве бека и **ReactJS** на фронте. Связь производится посредством HTTP REST-API по адресу `/api/**/*`. Бекенд использует ORM `Sequelize`, для взаимодействия с базой данных.

## Используемый стек технологий

### Бекенд

- Языки: `TypeScript`, `NodeJS`, `SQL`
- Модули: `Express`, `Sequelize`

### Фронтенд

- Языки: `TypeScript`, `Stylus`
- Модули: `ReactJS`, `Webpack`, `@reduxjs/toolkit`, `ReactRouter`
